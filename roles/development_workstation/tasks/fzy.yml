---

- name: Clone fzy
  git:
    repo: https://github.com/jhawthorn/fzy.git
    dest: "{{ home }}/src/fzy"
  when: is_fedora or is_ubuntu

- name: Compile and install fzy
  shell: make && make install
  become: yes
  args:
    chdir: "{{ home }}/src/fzy"
    creates: /usr/local/bin/fzy
  when: is_fedora or is_ubuntu

- name: Install fzy
  homebrew:
    name: fzy
    state: present
  when: is_macos
